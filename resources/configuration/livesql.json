{
"name": "Live SQL : a comparison with sizemb and freemb for table",
"description" : "",
"data_output": {
	"type": "json"
},
"data_sources": [
		{
			"type": "Database",
			"instance": "RPOPSGL1",
			"list_queries": [
				{
					"query": "select b.tablespace_name, tbs_size SizeMb, tbs_size as AnotherSizeMb, a.free_space FreeMb from  (select tablespace_name, round(sum(bytes)/1024/1024 ,2) as free_space from dba_free_space group by tablespace_name) a,(select tablespace_name, sum(bytes)/1024/1024 as tbs_size from dba_data_files group by tablespace_name) b where a.tablespace_name(+)=b.tablespace_name",
					"description":false,
					"limit":1,
					"mapping": {
						"fields_renaming": {
							"resource": ["TABLESPACE_NAME", true, true],
							"timestamp": ["ANOTHERSIZEMB",false,true],
							"metric.sizemb.value": [ "SIZEMB", false, true],
							"metric.freemb.value": [ "FREEMB", false, true]
						},
						"records_constants": {
							"component": "RPOPSGL1",
							"metric.sizemb.bunit": "mb",
							"metric.freemb.bunit": "mb",
							"metric.sizemb.type": "GAUGE",
							"metric.freemb.type": "GAUGE",
							"metric.sizemb.metric": "sizemb",
							"metric.freemb.metric": "freemb"
						},
						"dynamic_values": {
							"metric.sizemb.crit": { "function" : { "name": "borne", "min": 150, "max": 150000000 }, "true_value": 0, "false_value": 2, "unknown_value": 3, "test_value": "sizemb" }
						}	
					}
				}
			]
		}
	],
"post_treatments": ["liveSQL.liveData"]
}
