{
"name": "Live SQL : get the ticket by status",
"description" : "Nb of ticket by status for today",
"data_output": {
	"type": "json"
},
"data_sources": [
		{
			"type": "Database",
			"instance": "P1HORGL1",
			"list_queries": [
				{
					"query": "SELECT CSD_STATE_V.DES_TRANSLATED as status, COUNT(ID_TICKET) as nb_ticket FROM CSD_INCIDENT_ALL_V LEFT JOIN CSD_STATE_V ON CSD_INCIDENT_ALL_V.ID_STATE=CSD_STATE_V.ID_STATE WHERE CREATION_DATE >= to_date( to_char (SYSDATE, 'MM-DD-YYYY'), 'MM-DD-YYYY') AND SYMPTOM like '[SUPERVISION DTC]%' GROUP BY DES_TRANSLATED ORDER BY DES_TRANSLATED",
					"description":false,
					"encode_origin" : "iso-8859-1",
					"mapping": {
						"fields_renaming": {
							"resource": ["STATUS", true, true],
							"metric.TEST.value": [ "NB_TICKET", true, true, "int"],
							"metric.TEST.metric": [ "STATUS", true, true]
						},
						"records_constants": {
							"resource": "SA_APP_HOR_nb-ticket-volvoit",
							"component": "P1HORGLDB01",
							"metric.TEST.type": "GAUGE",
							"event_type": "check"
						}
					}
				}
			]
		}
	],
"post_treatments": [{"liveSQL.liveData": { "params": "ok"} } ]
}
